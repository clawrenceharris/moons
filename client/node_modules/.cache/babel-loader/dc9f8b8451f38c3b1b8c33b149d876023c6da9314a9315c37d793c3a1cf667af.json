{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCartStore = create((set, get) => {\n  var _get;\n  return {\n    cart: [],\n    isCartOpen: false,\n    subtotal: (_get = get()) !== null && _get !== void 0 && _get.cart ? get().cart.reduce((total, current) => total + current.price, 0) : 0,\n    closeCart: () => {\n      get().isCartOpen = false;\n    },\n    openCart: () => {\n      get().isCartOpen = true;\n    },\n    addItem: newItem => {\n      const existing = get().cart.find(item => item.id === newItem.id && item.size === newItem.size && item.color === newItem.color);\n      if (existing) {\n        set({\n          cart: get().cart.map(item => item === existing ? {\n            ...item,\n            quantity: item.quantity + newItem.quantity\n          } : item)\n        });\n      } else {\n        set({\n          cart: [...get().cart, newItem]\n        });\n      }\n    },\n    removeItem: productId => {\n      set({\n        cart: get().cart.filter(item => item.id !== productId)\n      });\n    },\n    clearCart: () => set({\n      cart: []\n    })\n  };\n});\nexport default useCartStore;","map":{"version":3,"names":["create","useCartStore","set","get","_get","cart","isCartOpen","subtotal","reduce","total","current","price","closeCart","openCart","addItem","newItem","existing","find","item","id","size","color","map","quantity","removeItem","productId","filter","clearCart"],"sources":["/Users/caleb/Dev/moons_footwear/client/src/stores/useCartStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { CartItem } from \"../../../shared/types\";\n\ninterface CartStore {\n  cart: CartItem[];\n  subtotal: number;\n  addItem: (item: CartItem) => void;\n  removeItem: (productId: number) => void;\n  clearCart: () => void;\n  isCartOpen: boolean;\n\n  openCart: () => void;\n  closeCart: () => void;\n}\n\nexport const useCartStore = create<CartStore>((set, get) => ({\n  cart: [],\n  isCartOpen: false,\n  subtotal: get()?.cart\n    ? get().cart.reduce((total, current) => total + current.price, 0)\n    : 0,\n  closeCart: () => {\n    get().isCartOpen = false;\n  },\n  openCart: () => {\n    get().isCartOpen = true;\n  },\n\n  addItem: (newItem) => {\n    const existing = get().cart.find(\n      (item) =>\n        item.id === newItem.id &&\n        item.size === newItem.size &&\n        item.color === newItem.color\n    );\n    if (existing) {\n      set({\n        cart: get().cart.map((item) =>\n          item === existing\n            ? { ...item, quantity: item.quantity + newItem.quantity }\n            : item\n        ),\n      });\n    } else {\n      set({ cart: [...get().cart, newItem] });\n    }\n  },\n\n  removeItem: (productId) => {\n    set({ cart: get().cart.filter((item) => item.id !== productId) });\n  },\n\n  clearCart: () => set({ cart: [] }),\n}));\n\nexport default useCartStore;\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAehC,OAAO,MAAMC,YAAY,GAAGD,MAAM,CAAY,CAACE,GAAG,EAAEC,GAAG;EAAA,IAAAC,IAAA;EAAA,OAAM;IAC3DC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE,CAAAH,IAAA,GAAAD,GAAG,CAAC,CAAC,cAAAC,IAAA,eAALA,IAAA,CAAOC,IAAI,GACjBF,GAAG,CAAC,CAAC,CAACE,IAAI,CAACG,MAAM,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAKD,KAAK,GAAGC,OAAO,CAACC,KAAK,EAAE,CAAC,CAAC,GAC/D,CAAC;IACLC,SAAS,EAAEA,CAAA,KAAM;MACfT,GAAG,CAAC,CAAC,CAACG,UAAU,GAAG,KAAK;IAC1B,CAAC;IACDO,QAAQ,EAAEA,CAAA,KAAM;MACdV,GAAG,CAAC,CAAC,CAACG,UAAU,GAAG,IAAI;IACzB,CAAC;IAEDQ,OAAO,EAAGC,OAAO,IAAK;MACpB,MAAMC,QAAQ,GAAGb,GAAG,CAAC,CAAC,CAACE,IAAI,CAACY,IAAI,CAC7BC,IAAI,IACHA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,IACtBD,IAAI,CAACE,IAAI,KAAKL,OAAO,CAACK,IAAI,IAC1BF,IAAI,CAACG,KAAK,KAAKN,OAAO,CAACM,KAC3B,CAAC;MACD,IAAIL,QAAQ,EAAE;QACZd,GAAG,CAAC;UACFG,IAAI,EAAEF,GAAG,CAAC,CAAC,CAACE,IAAI,CAACiB,GAAG,CAAEJ,IAAI,IACxBA,IAAI,KAAKF,QAAQ,GACb;YAAE,GAAGE,IAAI;YAAEK,QAAQ,EAAEL,IAAI,CAACK,QAAQ,GAAGR,OAAO,CAACQ;UAAS,CAAC,GACvDL,IACN;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACLhB,GAAG,CAAC;UAAEG,IAAI,EAAE,CAAC,GAAGF,GAAG,CAAC,CAAC,CAACE,IAAI,EAAEU,OAAO;QAAE,CAAC,CAAC;MACzC;IACF,CAAC;IAEDS,UAAU,EAAGC,SAAS,IAAK;MACzBvB,GAAG,CAAC;QAAEG,IAAI,EAAEF,GAAG,CAAC,CAAC,CAACE,IAAI,CAACqB,MAAM,CAAER,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKM,SAAS;MAAE,CAAC,CAAC;IACnE,CAAC;IAEDE,SAAS,EAAEA,CAAA,KAAMzB,GAAG,CAAC;MAAEG,IAAI,EAAE;IAAG,CAAC;EACnC,CAAC;AAAA,CAAC,CAAC;AAEH,eAAeJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}