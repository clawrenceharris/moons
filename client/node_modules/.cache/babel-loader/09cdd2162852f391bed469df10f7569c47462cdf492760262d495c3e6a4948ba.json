{"ast":null,"code":"var _jsxFileName = \"/Users/caleb/Dev/moons_footwear/client/src/context/ShopContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { fetchAllProducts } from \"../api/shop\";\nimport { fetchAllBrands, fetchAllCategories, fetchAllFlags, fetchAllSubcategories } from \"../api/tags\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShopContext = /*#__PURE__*/createContext(undefined);\nconst useShop = () => {\n  _s();\n  const context = useContext(ShopContext);\n  if (!context) {\n    throw new Error(\"useShop must be used within a Shop Provider\");\n  }\n  return context;\n};\n_s(useShop, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst ShopProvider = ({\n  children\n}) => {\n  _s2();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubategories] = useState([]);\n  const [flags, setFlags] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchAllData = async () => {\n      try {\n        const [products, categoires, subcategories, flags, brands] = await Promise.all([fetchAllProducts(), fetchAllCategories(), fetchAllSubcategories(), fetchAllFlags(), fetchAllBrands()]);\n        setProducts(products);\n        setCategories(categoires);\n        setSubategories(subcategories);\n        setFlags(flags);\n        setBrands(brands);\n      } catch (err) {\n        throw new Error(err.message);\n      }\n    };\n    fetchAllData().then(() => {\n      setIsLoading(false);\n    }).catch(err => {\n      setError(err);\n      setIsLoading(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: {\n      products,\n      categories,\n      subcategories,\n      flags,\n      brands,\n      error,\n      isLoading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s2(ShopProvider, \"vUuECQmk7G651fFeCYEDMU3G2Uk=\");\n_c = ShopProvider;\nexport { useShop, ShopProvider };\nvar _c;\n$RefreshReg$(_c, \"ShopProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","fetchAllProducts","fetchAllBrands","fetchAllCategories","fetchAllFlags","fetchAllSubcategories","jsxDEV","_jsxDEV","ShopContext","undefined","useShop","_s","context","Error","ShopProvider","children","_s2","products","setProducts","categories","setCategories","subcategories","setSubategories","flags","setFlags","brands","setBrands","error","setError","isLoading","setIsLoading","fetchAllData","categoires","Promise","all","err","message","then","catch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/caleb/Dev/moons_footwear/client/src/context/ShopContext.tsx"],"sourcesContent":["import {\n  createContext,\n  useContext,\n  useState,\n  ReactNode,\n  FC,\n  useEffect,\n} from \"react\";\nimport {\n  Product,\n  ProductBrand,\n  ProductCategory,\n  ProductFlag,\n} from \"../../../shared/types\";\nimport { fetchAllProducts } from \"../api/shop\";\nimport {\n  fetchAllBrands,\n  fetchAllCategories,\n  fetchAllFlags,\n  fetchAllSubcategories,\n} from \"../api/tags\";\n\ninterface ShopContextType {\n  products: Product[];\n  brands: ProductBrand[];\n  flags: ProductFlag[];\n  categories: ProductCategory[];\n  subcategories: ProductCategory[];\n  error: string | null;\n  isLoading: boolean;\n}\n\nconst ShopContext = createContext<ShopContextType | undefined>(undefined);\n\nconst useShop = () => {\n  const context = useContext(ShopContext);\n  if (!context) {\n    throw new Error(\"useShop must be used within a Shop Provider\");\n  }\n  return context;\n};\n\nconst ShopProvider: FC<{ children: ReactNode }> = ({ children }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [categories, setCategories] = useState<ProductCategory[]>([]);\n  const [subcategories, setSubategories] = useState<ProductCategory[]>([]);\n  const [flags, setFlags] = useState<ProductFlag[]>([]);\n  const [brands, setBrands] = useState<ProductBrand[]>([]);\n\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchAllData = async () => {\n      try {\n        const [products, categoires, subcategories, flags, brands] =\n          await Promise.all([\n            fetchAllProducts(),\n            fetchAllCategories(),\n            fetchAllSubcategories(),\n            fetchAllFlags(),\n            fetchAllBrands(),\n          ]);\n        setProducts(products);\n        setCategories(categoires);\n        setSubategories(subcategories);\n        setFlags(flags);\n        setBrands(brands);\n      } catch (err: any) {\n        throw new Error(err.message);\n      }\n    };\n    fetchAllData()\n      .then(() => {\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        setError(err);\n        setIsLoading(false);\n      });\n  }, []);\n  return (\n    <ShopContext.Provider\n      value={{\n        products,\n        categories,\n        subcategories,\n        flags,\n        brands,\n        error,\n        isLoading,\n      }}\n    >\n      {children}\n    </ShopContext.Provider>\n  );\n};\n\nexport { useShop, ShopProvider };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}