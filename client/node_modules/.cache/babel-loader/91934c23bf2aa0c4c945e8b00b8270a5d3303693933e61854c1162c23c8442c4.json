{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCartStore = create((set, get) => ({\n  cart: [],\n  subtotal: () => {\n    const cart = get().cart;\n    return cart.reduce((total, current) => total + current.price, 0);\n  },\n  addItem: newItem => {\n    const existing = get().cart.find(item => item.productId === newItem.productId && item.size === newItem.size && item.color === newItem.color);\n    if (existing) {\n      set({\n        cart: get().cart.map(item => item === existing ? {\n          ...item,\n          quantity: item.quantity + newItem.quantity\n        } : item)\n      });\n    } else {\n      set({\n        cart: [...get().cart, newItem]\n      });\n    }\n  },\n  removeItem: productId => {\n    set({\n      cart: get().cart.filter(item => item.productId !== productId)\n    });\n  },\n  clearCart: () => set({\n    cart: []\n  })\n}));\nexport default useCartStore;","map":{"version":3,"names":["create","useCartStore","set","get","cart","subtotal","reduce","total","current","price","addItem","newItem","existing","find","item","productId","size","color","map","quantity","removeItem","filter","clearCart"],"sources":["/Users/caleb/Dev/moons_footwear/client/src/stores/useCartStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { CartItem } from \"../../../shared/types\";\n\ninterface CartStore {\n  cart: CartItem[];\n  subtotal: () => void;\n  addItem: (item: CartItem) => void;\n  removeItem: (productId: number) => void;\n  clearCart: () => void;\n}\n\nexport const useCartStore = create<CartStore>((set, get) => ({\n  cart: [],\n  subtotal: () => {\n    const cart = get().cart;\n    return cart.reduce((total, current) => total + current.price, 0);\n  },\n  addItem: (newItem) => {\n    const existing = get().cart.find(\n      (item) =>\n        item.productId === newItem.productId &&\n        item.size === newItem.size &&\n        item.color === newItem.color\n    );\n    if (existing) {\n      set({\n        cart: get().cart.map((item) =>\n          item === existing\n            ? { ...item, quantity: item.quantity + newItem.quantity }\n            : item\n        ),\n      });\n    } else {\n      set({ cart: [...get().cart, newItem] });\n    }\n  },\n\n  removeItem: (productId) => {\n    set({ cart: get().cart.filter((item) => item.productId !== productId) });\n  },\n\n  clearCart: () => set({ cart: [] }),\n}));\n\nexport default useCartStore;\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAWhC,OAAO,MAAMC,YAAY,GAAGD,MAAM,CAAY,CAACE,GAAG,EAAEC,GAAG,MAAM;EAC3DC,IAAI,EAAE,EAAE;EACRC,QAAQ,EAAEA,CAAA,KAAM;IACd,MAAMD,IAAI,GAAGD,GAAG,CAAC,CAAC,CAACC,IAAI;IACvB,OAAOA,IAAI,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAKD,KAAK,GAAGC,OAAO,CAACC,KAAK,EAAE,CAAC,CAAC;EAClE,CAAC;EACDC,OAAO,EAAGC,OAAO,IAAK;IACpB,MAAMC,QAAQ,GAAGT,GAAG,CAAC,CAAC,CAACC,IAAI,CAACS,IAAI,CAC7BC,IAAI,IACHA,IAAI,CAACC,SAAS,KAAKJ,OAAO,CAACI,SAAS,IACpCD,IAAI,CAACE,IAAI,KAAKL,OAAO,CAACK,IAAI,IAC1BF,IAAI,CAACG,KAAK,KAAKN,OAAO,CAACM,KAC3B,CAAC;IACD,IAAIL,QAAQ,EAAE;MACZV,GAAG,CAAC;QACFE,IAAI,EAAED,GAAG,CAAC,CAAC,CAACC,IAAI,CAACc,GAAG,CAAEJ,IAAI,IACxBA,IAAI,KAAKF,QAAQ,GACb;UAAE,GAAGE,IAAI;UAAEK,QAAQ,EAAEL,IAAI,CAACK,QAAQ,GAAGR,OAAO,CAACQ;QAAS,CAAC,GACvDL,IACN;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLZ,GAAG,CAAC;QAAEE,IAAI,EAAE,CAAC,GAAGD,GAAG,CAAC,CAAC,CAACC,IAAI,EAAEO,OAAO;MAAE,CAAC,CAAC;IACzC;EACF,CAAC;EAEDS,UAAU,EAAGL,SAAS,IAAK;IACzBb,GAAG,CAAC;MAAEE,IAAI,EAAED,GAAG,CAAC,CAAC,CAACC,IAAI,CAACiB,MAAM,CAAEP,IAAI,IAAKA,IAAI,CAACC,SAAS,KAAKA,SAAS;IAAE,CAAC,CAAC;EAC1E,CAAC;EAEDO,SAAS,EAAEA,CAAA,KAAMpB,GAAG,CAAC;IAAEE,IAAI,EAAE;EAAG,CAAC;AACnC,CAAC,CAAC,CAAC;AAEH,eAAeH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}