{"ast":null,"code":"var _jsxFileName = \"/Users/caleb/Dev/moons_footwear/client/src/components/FocusTrap/FocusTrap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FocusTrap = ({\n  onClickOutside,\n  active,\n  children\n}) => {\n  _s();\n  const ref = useRef(null);\n  const handleClickOutside = useCallback(e => {\n    const target = e.target;\n    if (!ref.current) {\n      return;\n    }\n    if (!ref.current.contains(target)) {\n      onClickOutside && onClickOutside(e);\n    }\n  }, [onClickOutside]);\n  useEffect(() => {\n    const onTab = e => {\n      const focusableElements = document.querySelectorAll(\"a[href], area[href], iframe, object, embed, [tabindex], [contenteditable]\");\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n      const isTabPressed = e.key === \"Tab\";\n      if (!active) {\n        firstElement.focus();\n      }\n      if (isTabPressed) {\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", onTab);\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"keydown\", onTab);\n    };\n  }, [active, handleClickOutside]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 10\n  }, this);\n};\n_s(FocusTrap, \"661a9xL06e4DDGf3OdIO0/4b9qU=\");\n_c = FocusTrap;\nexport default FocusTrap;\nvar _c;\n$RefreshReg$(_c, \"FocusTrap\");","map":{"version":3,"names":["React","useCallback","useRef","useEffect","jsxDEV","_jsxDEV","FocusTrap","onClickOutside","active","children","_s","ref","handleClickOutside","e","target","current","contains","onTab","focusableElements","document","querySelectorAll","firstElement","lastElement","length","isTabPressed","key","focus","shiftKey","activeElement","preventDefault","addEventListener","removeEventListener","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/caleb/Dev/moons_footwear/client/src/components/FocusTrap/FocusTrap.tsx"],"sourcesContent":["import React, { FC, useCallback, useRef } from \"react\";\nimport { useEffect } from \"react\";\n\ninterface FocusTrapProps {\n  onClickOutside?: (e: MouseEvent) => void;\n  active?: boolean;\n  children: React.ReactNode;\n}\n\nconst FocusTrap: FC<FocusTrapProps> = ({\n  onClickOutside,\n  active,\n  children,\n}) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const handleClickOutside = useCallback(\n    (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (!ref.current) {\n        return;\n      }\n      if (!ref.current.contains(target as Node)) {\n        onClickOutside && onClickOutside(e);\n      }\n    },\n    [onClickOutside]\n  );\n  useEffect(() => {\n    const onTab = (e: KeyboardEvent) => {\n      const focusableElements = document.querySelectorAll(\n        \"a[href], area[href], iframe, object, embed, [tabindex], [contenteditable]\"\n      );\n      const firstElement = focusableElements[0] as HTMLElement;\n      const lastElement = focusableElements[\n        focusableElements.length - 1\n      ] as HTMLElement;\n      const isTabPressed = e.key === \"Tab\";\n      if (!active) {\n        firstElement.focus();\n      }\n      if (isTabPressed) {\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", onTab);\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"keydown\", onTab);\n    };\n  }, [active, handleClickOutside]);\n\n  return <div ref={ref}>{children}</div>;\n};\nexport default FocusTrap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAQC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACtD,SAASC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQlC,MAAMC,SAA6B,GAAGA,CAAC;EACrCC,cAAc;EACdC,MAAM;EACNC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,GAAG,GAAGT,MAAM,CAAiB,IAAI,CAAC;EACxC,MAAMU,kBAAkB,GAAGX,WAAW,CACnCY,CAAa,IAAK;IACjB,MAAMC,MAAM,GAAGD,CAAC,CAACC,MAAqB;IACtC,IAAI,CAACH,GAAG,CAACI,OAAO,EAAE;MAChB;IACF;IACA,IAAI,CAACJ,GAAG,CAACI,OAAO,CAACC,QAAQ,CAACF,MAAc,CAAC,EAAE;MACzCP,cAAc,IAAIA,cAAc,CAACM,CAAC,CAAC;IACrC;EACF,CAAC,EACD,CAACN,cAAc,CACjB,CAAC;EACDJ,SAAS,CAAC,MAAM;IACd,MAAMc,KAAK,GAAIJ,CAAgB,IAAK;MAClC,MAAMK,iBAAiB,GAAGC,QAAQ,CAACC,gBAAgB,CACjD,2EACF,CAAC;MACD,MAAMC,YAAY,GAAGH,iBAAiB,CAAC,CAAC,CAAgB;MACxD,MAAMI,WAAW,GAAGJ,iBAAiB,CACnCA,iBAAiB,CAACK,MAAM,GAAG,CAAC,CACd;MAChB,MAAMC,YAAY,GAAGX,CAAC,CAACY,GAAG,KAAK,KAAK;MACpC,IAAI,CAACjB,MAAM,EAAE;QACXa,YAAY,CAACK,KAAK,CAAC,CAAC;MACtB;MACA,IAAIF,YAAY,EAAE;QAChB,IAAIX,CAAC,CAACc,QAAQ,EAAE;UACd,IAAIR,QAAQ,CAACS,aAAa,KAAKP,YAAY,EAAE;YAC3CR,CAAC,CAACgB,cAAc,CAAC,CAAC;YAClBP,WAAW,CAACI,KAAK,CAAC,CAAC;UACrB;QACF,CAAC,MAAM;UACL,IAAIP,QAAQ,CAACS,aAAa,KAAKN,WAAW,EAAE;YAC1CT,CAAC,CAACgB,cAAc,CAAC,CAAC;YAClBR,YAAY,CAACK,KAAK,CAAC,CAAC;UACtB;QACF;MACF;IACF,CAAC;IAEDP,QAAQ,CAACW,gBAAgB,CAAC,SAAS,EAAEb,KAAK,CAAC;IAC3CE,QAAQ,CAACW,gBAAgB,CAAC,OAAO,EAAElB,kBAAkB,CAAC;IACtD,OAAO,MAAM;MACXO,QAAQ,CAACY,mBAAmB,CAAC,SAAS,EAAEd,KAAK,CAAC;IAChD,CAAC;EACH,CAAC,EAAE,CAACT,MAAM,EAAEI,kBAAkB,CAAC,CAAC;EAEhC,oBAAOP,OAAA;IAAKM,GAAG,EAAEA,GAAI;IAAAF,QAAA,EAAEA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACxC,CAAC;AAACzB,EAAA,CAtDIJ,SAA6B;AAAA8B,EAAA,GAA7B9B,SAA6B;AAuDnC,eAAeA,SAAS;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}