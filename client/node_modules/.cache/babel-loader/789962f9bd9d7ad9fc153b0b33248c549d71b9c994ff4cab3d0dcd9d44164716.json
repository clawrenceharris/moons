{"ast":null,"code":"var _jsxFileName = \"/Users/caleb/Dev/moons/client/src/context/CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\nimport { ShoppingCart } from \"../components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({});\nconst useCart = () => {\n  _s();\n  return useContext(CartContext);\n};\n_s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst CartProvider = ({\n  children\n}) => {\n  _s2();\n  const [cartItems, setCartItems] = useLocalStorage(\"cart\", []);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [checkout, setCheckout] = useState(false);\n  const openCart = () => {\n    setIsCartOpen(true);\n  };\n  const closeCart = () => {\n    setIsCartOpen(false);\n  };\n  function isSameItem(item1, item2) {\n    return item1.id === item2.id && item1.selectedColor === item2.selectedColor && item1.selectedSize === item2.selectedSize;\n  }\n  function getItemQuantity(item) {\n    var _cartItems$find;\n    return ((_cartItems$find = cartItems.find(el => isSameItem(el, item))) === null || _cartItems$find === void 0 ? void 0 : _cartItems$find.quantity) || 0;\n  }\n  function addItemToCart(item) {\n    setCartItems(currItems => {\n      if (currItems.find(el => isSameItem(el, item)) == null) {\n        return [...cartItems, {\n          ...item,\n          quantity: 1\n        }];\n      } else {\n        return cartItems.map(el => {\n          //if the item in the array is the same as the given item\n          if (isSameItem(el, item)) {\n            //then return that item with increased quantity\n            return {\n              ...el,\n              quantity: el.quantity + 1\n            };\n          } else {\n            return el;\n          }\n        });\n      }\n    });\n  }\n  function decreaseCartQuantity(item) {\n    setCartItems(currItems => {\n      if (currItems.find(el => isSameItem(el, item)) == null) {\n        return cartItems.filter(el => !isSameItem(el, item));\n      } else {\n        return cartItems.map(el => {\n          if (isSameItem(el, item)) {\n            return {\n              ...el,\n              quantity: item.quantity - 1\n            };\n          } else {\n            return el;\n          }\n        });\n      }\n    });\n  }\n  function removeFromCart(item) {\n    setCartItems(currItems => {\n      return currItems.filter(el => !isSameItem(item, el));\n    });\n  }\n  function onCheckout() {\n    setCheckout(false);\n  }\n  const cartQuantity = cartItems.reduce((quantity, item) => item.quantity + quantity, 0);\n  const totalPrice = cartItems.reduce((price, item) => item !== null && item !== void 0 && item.salePrice ? item.salePrice * item.quantity + price : item.price * item.quantity + price, 0);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    value: {\n      addItemToCart,\n      decreaseCartQuantity,\n      removeFromCart,\n      getItemQuantity,\n      cartItems,\n      cartQuantity,\n      openCart,\n      closeCart,\n      isCartOpen,\n      totalPrice,\n      checkout,\n      setCheckout,\n      onCheckout\n    },\n    children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n      isCartOpen: isCartOpen,\n      onCheckoutPress: () => {\n        setIsCartOpen(false);\n        setCheckout(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s2(CartProvider, \"2j9TAe/MJHhMx+wIP7vM0GnK6wg=\", false, function () {\n  return [useLocalStorage];\n});\n_c = CartProvider;\nexport { CartProvider, useCart };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useLocalStorage","ShoppingCart","jsxDEV","_jsxDEV","CartContext","useCart","_s","CartProvider","children","_s2","cartItems","setCartItems","isCartOpen","setIsCartOpen","checkout","setCheckout","openCart","closeCart","isSameItem","item1","item2","id","selectedColor","selectedSize","getItemQuantity","item","_cartItems$find","find","el","quantity","addItemToCart","currItems","map","decreaseCartQuantity","filter","removeFromCart","onCheckout","cartQuantity","reduce","totalPrice","price","salePrice","Provider","style","width","height","value","onCheckoutPress","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/caleb/Dev/moons/client/src/context/CartContext.jsx"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\nimport { ShoppingCart } from \"../components\";\n\nconst CartContext = createContext({});\n\nconst useCart = ()  =>{\n  return useContext(CartContext);\n}\n\nconst CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useLocalStorage(\"cart\", []);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [checkout, setCheckout] = useState(false);\n \n  const openCart = () => {\n    setIsCartOpen(true);\n  };\n\n  const closeCart = () => {\n    setIsCartOpen(false);\n  };\n\n  function isSameItem(item1, item2) {\n    return (\n      item1.id === item2.id &&\n      item1.selectedColor === item2.selectedColor &&\n      item1.selectedSize === item2.selectedSize\n    );\n  }\n  function getItemQuantity(item) {\n    return cartItems.find((el) => isSameItem(el, item))?.quantity || 0;\n  }\n  function addItemToCart(item) {\n    setCartItems((currItems) => {\n      if (currItems.find((el) => isSameItem(el, item)) == null) {\n        return [...cartItems, { ...item, quantity: 1 }];\n      } else {\n        return cartItems.map((el) => {\n          //if the item in the array is the same as the given item\n          if (isSameItem(el, item)) {\n            //then return that item with increased quantity\n            return { ...el, quantity: el.quantity + 1 };\n          } else {\n            return el;\n          }\n        });\n      }\n    });\n  }\n\n  function decreaseCartQuantity(item) {\n    setCartItems((currItems) => {\n      if (currItems.find((el) => isSameItem(el, item)) == null) {\n        return cartItems.filter((el) => !isSameItem(el, item));\n      } else {\n        return cartItems.map((el) => {\n          if (isSameItem(el, item)) {\n            return { ...el, quantity: item.quantity - 1 };\n          } else {\n            return el;\n          }\n        });\n      }\n    });\n  }\n  function removeFromCart(item) {\n    setCartItems((currItems) => {\n      return currItems.filter((el) => !isSameItem(item, el));\n    });\n  }\n\n  function onCheckout() {\n    setCheckout(false);\n  }\n  const cartQuantity = cartItems.reduce(\n    (quantity, item) => item.quantity + quantity,\n    0\n  );\n  const totalPrice = cartItems.reduce(\n    (price, item) =>\n      item?.salePrice\n        ? item.salePrice * item.quantity + price\n        : item.price * item.quantity + price,\n    0\n  );\n  return (\n    <CartContext.Provider\n      style={{ width: \"100%\", height: \"100%\" }}\n      value={{\n         addItemToCart,\n        decreaseCartQuantity,\n        removeFromCart,\n        getItemQuantity,\n        cartItems,\n        cartQuantity,\n        openCart,\n        closeCart,\n        isCartOpen,\n        totalPrice,\n        checkout,\n        setCheckout,\n        onCheckout,\n      }}\n    >\n      <ShoppingCart\n        isCartOpen={isCartOpen}\n        onCheckoutPress={() => {\n          setIsCartOpen(false);\n          setCheckout(true);\n        }}\n      />\n\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport {CartProvider, useCart};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}